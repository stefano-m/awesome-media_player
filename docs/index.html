<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>media_player</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Class_MediaPlayer">Class MediaPlayer </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>media_player</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/README.md.html">README</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>media_player</code></h1>
<p>Create proxy objects that implement the
  <a href="https://specifications.freedesktop.org/mpris-spec/latest/"><code>org.mpris.MediaPlayer2</code></a>
  DBus interface.</p>
<p>  The proxy object exposes all the methods an properties of
  the interface in addition to the methods documented here.  Note that some
  applications may not implement the full MPRIS specification.</p>

<p>  This library is implemented on top of the <a href="https://github.com/stefano-m/lua-dbus_proxy"><code>dbus_proxy</code></a> module.</p>

<p>  A <code>dbus_proxy.Proxy</code> object <strong>cannot</strong> be created unless the media player
  application is running.  The MediaPlayer object implemented here works around
  this limitation by intelligently polling the application and, if does not
  find it, silently ignoring it.</p>
    <h3>Usage:</h3>
    <ul>
        <pre class="example">MediaPlayer = require(&quot;media_player&quot;)
vlc = MediaPlayer:new(&quot;vlc&quot;)
vlc:PlayPause()
for k, v in pairs(vlc:info()) do
  print(k, v)
end
vlc:Stop()
</pre>
    </ul>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2017 Stefano Mazzucco</li>
        <li><strong>License</strong>: Apache License, version 2.0</li>
        <li><strong>Author</strong>: Stefano Mazzucco <stefano AT curso DOT re></li>
    </ul>


<h2><a href="#Class_MediaPlayer">Class MediaPlayer </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#MediaPlayer:Get">MediaPlayer:Get (property_name)</a></td>
	<td class="summary">Get the value of a property.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MediaPlayer:position_as_str">MediaPlayer:position_as_str ()</a></td>
	<td class="summary">Return the position of the track as a string of the type
 <code>HH:MM:SS</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MediaPlayer:info">MediaPlayer:info ()</a></td>
	<td class="summary">Return useful information about the track.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MediaPlayer:new">MediaPlayer:new (name)</a></td>
	<td class="summary">Create a new MediaPlayer proxy object</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Class_MediaPlayer"></a>Class MediaPlayer </h2>

    <dl class="function">
    <dt>
    <a name = "MediaPlayer:Get"></a>
    <strong>MediaPlayer:Get (property_name)</strong>
    </dt>
    <dd>
    Get the value of a property.  You should not need to use this
 method directly. Instead, you should access the property with the dot
 notation: e.g. <code>player.PropertyName</code>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">property_name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         the name of a property
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the value of the property</li>
        <li>
        nil if the property is not present or the application is not
 available</li>
    </ol>




</dd>
    <dt>
    <a name = "MediaPlayer:position_as_str"></a>
    <strong>MediaPlayer:position_as_str ()</strong>
    </dt>
    <dd>
    Return the position of the track as a string of the type
 <code>HH:MM:SS</code>.



    <h3>Returns:</h3>
    <ol>
        <li>
        a string of the type <code>HH:MM:SS</code></li>
        <li>
        an empty string if the application is not available</li>
    </ol>




</dd>
    <dt>
    <a name = "MediaPlayer:info"></a>
    <strong>MediaPlayer:info ()</strong>
    </dt>
    <dd>
    Return useful information about the track.
 For full control over the metadata, use <code>player.Metadata</code>.



    <h3>Returns:</h3>
    <ol>
        <li>

<p> a table with the following keys
 (if available in the track's metadata):</p>

<ul>
    <li><code>album</code>: name of the album</li>
    <li><code>title</code>: title of the song</li>
    <li><code>year</code>: song year</li>
    <li><code>artists</code>: comma-separated list of artists</li>
    <li><code>length</code>: total lenght of the track as <code>HH:MM:SS</code></li>
</ul>

</li>
        <li>
        an empty table if the application is not available</li>
    </ol>




</dd>
    <dt>
    <a name = "MediaPlayer:new"></a>
    <strong>MediaPlayer:new (name)</strong>
    </dt>
    <dd>
    Create a new MediaPlayer proxy object


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.3/manual.html#6.4">string</a></span>
         name of the application as found in the unique bus name:
  <code>org.mpris.MediaPlayer2.&lt;name&gt;</code>. E.g. <code>org.mpris.MediaPlayer2.vlc</code>. <code>name</code>
  will also be exposed as a field of the object (i.e. <code>player.name</code>)
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-04-11 00:09:59 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
